<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–ª—è —Ç–µ–±—è</title>
<style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; height: 100%; width: 100%; }
    body { 
        display: flex; 
        justify-content: center; 
        align-items: center; 
        background: #e3f2fd url('cats.jpg') no-repeat center center fixed; 
        background-size: cover;
        font-family: sans-serif;
    }
    #card { 
        background: rgba(255, 255, 255, 0.9); 
        padding: 30px; 
        border-radius: 25px; 
        text-align: center; 
        width: 85%;
        max-width: 300px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
</style>

</head>
<body>
    
<div id="card">
    <h1 id="temp">...</h1>
    <p id="message">–ü–æ–¥–∫–ª—é—á–∞—é—Å—å...</p>
</div>
    
<script>
    async function getRealWeather() {
        const tempEl = document.getElementById('temp');
        const msgEl = document.getElementById('message');
        msgEl.innerText = "–ö–∞–∂–µ—Ç—Å—è, —Å–µ–≥–æ–¥–Ω—è –º–æ—Ä–æ–∑–Ω–æ...";
        
        setTimeout(() => {
            msgEl.innerText = "–ü—Ä–æ–≤–µ—Ä—è—é –º–µ—Ç–µ–æ—Å—Ç–∞–Ω—Ü–∏—é –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–∞...";
            
            setTimeout(async () => {
                const url = "https://api.open-meteo.com";
                try {
                    const res = await fetch(url);
                    const data = await res.json();
                    const now = new Date();
                    let target = new Date();
                    if (now.getHours() >= 9) target.setDate(now.getDate() + 1);
                    const dateStr = target.toLocaleDateString('sv') + "T09:00";
                    const idx = data.hourly.time.indexOf(dateStr);
                    const t = Math.round(data.hourly.temperature_2m[idx]);

                    tempEl.innerText = t + "¬∞C";
                    msgEl.innerHTML = "–†–∞–∑ —Å–µ–≥–æ–¥–Ω—è —Ç–∞–∫ —Ö–æ–ª–æ–¥–Ω–æ, —Ç–æ –ø—Ä–∏—Ö–æ–¥–∏ –ø–æ–∫—É—à–∞—Ç—å –∏ —Å–æ–≥—Ä–µ—Ç—å—Å—è! üíó";
                } catch (err) {
                    tempEl.innerText = "-31¬∞C"; 
                    msgEl.innerHTML = "–†–∞–∑ —Å–µ–≥–æ–¥–Ω—è —Ç–∞–∫ —Ö–æ–ª–æ–¥–Ω–æ, —Ç–æ –ø—Ä–∏—Ö–æ–¥–∏ –ø–æ–∫—É—à–∞—Ç—å –∏ —Å–æ–≥—Ä–µ—Ç—å—Å—è! üíó";
                }
            }, 1500); 
        }, 1500);
    }
    getRealWeather();
</script>

</body>
</html>
